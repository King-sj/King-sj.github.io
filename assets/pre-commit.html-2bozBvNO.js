import{_ as s,c as a,e,o as n}from"./app-DMdjXmEa.js";const l={};function t(h,i){return n(),a("div",null,[...i[0]||(i[0]=[e(`<h1 id="pre-commit-简介" tabindex="-1"><a class="header-anchor" href="#pre-commit-简介"><span>pre-commit 简介</span></a></h1><p>pre-commit 是一个流行的 Git 钩子管理工具，支持在代码提交前自动执行格式化、静态检查、自动修复等操作，提升代码质量，避免低级错误进入仓库。</p><h2 id="主要功能" tabindex="-1"><a class="header-anchor" href="#主要功能"><span>主要功能</span></a></h2><ul><li>统一管理多种代码检查/格式化工具（如 black、flake8、isort、eslint、stylelint 等）</li><li>支持多语言、多平台</li><li>配置简单，易于团队协作</li><li>可自定义钩子脚本</li></ul><h2 id="安装与使用" tabindex="-1"><a class="header-anchor" href="#安装与使用"><span>安装与使用</span></a></h2><h3 id="_1-安装-pre-commit" tabindex="-1"><a class="header-anchor" href="#_1-安装-pre-commit"><span>1. 安装 pre-commit</span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pre-commit</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-添加配置文件" tabindex="-1"><a class="header-anchor" href="#_2-添加配置文件"><span>2. 添加配置文件</span></a></h3><p>在项目根目录新建 <code>.pre-commit-config.yaml</code>，例如：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">repos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">repo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://github.com/pre-commit/pre-commit-hooks</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    rev</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v4.4.0</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">trailing-whitespace</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">end-of-file-fixer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">check-yaml</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">repo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">https://github.com/psf/black</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    rev</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">23.3.0</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">black</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-安装-git-钩子" tabindex="-1"><a class="header-anchor" href="#_3-安装-git-钩子"><span>3. 安装 Git 钩子</span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pre-commit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4-手动检查所有文件" tabindex="-1"><a class="header-anchor" href="#_4-手动检查所有文件"><span>4. 手动检查所有文件</span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pre-commit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --all-files</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="常见用法" tabindex="-1"><a class="header-anchor" href="#常见用法"><span>常见用法</span></a></h2><ul><li>自动格式化 Python 代码</li><li>检查并修复行尾空格、文件结尾换行</li><li>检查 YAML/JSON/Markdown 等文件格式</li><li>前端项目可集成 eslint、stylelint 等</li></ul><h2 id="进阶技巧" tabindex="-1"><a class="header-anchor" href="#进阶技巧"><span>进阶技巧</span></a></h2><ul><li>支持本地自定义钩子（shell/python 脚本）</li><li>支持多语言项目和 monorepo</li><li>可与 CI/CD 集成，保证远程仓库代码质量</li></ul><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://github.com/pre-commit/pre-commit" target="_blank" rel="noopener noreferrer">pre-commit 官方文档</a></li></ul><hr><blockquote><p>pre-commit 是现代团队协作和代码质量保障的利器，推荐所有项目集成。</p></blockquote>`,22)])])}const p=s(l,[["render",t]]),k=JSON.parse('{"path":"/tech/pre-commit.html","title":"pre-commit 钩子工具简介与实用","lang":"en-US","frontmatter":{"title":"pre-commit 钩子工具简介与实用","category":"工具","description":"pre-commit 简介 pre-commit 是一个流行的 Git 钩子管理工具，支持在代码提交前自动执行格式化、静态检查、自动修复等操作，提升代码质量，避免低级错误进入仓库。 主要功能 统一管理多种代码检查/格式化工具（如 black、flake8、isort、eslint、stylelint 等） 支持多语言、多平台 配置简单，易于团队协作 可...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"pre-commit 钩子工具简介与实用\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-12-31T14:57:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"KSJ\\",\\"url\\":\\"https://github.com/King-sj\\"}]}"],["meta",{"property":"og:url","content":"https://github.com/King-sj/tech/pre-commit.html"}],["meta",{"property":"og:site_name","content":"kblog"}],["meta",{"property":"og:title","content":"pre-commit 钩子工具简介与实用"}],["meta",{"property":"og:description","content":"pre-commit 简介 pre-commit 是一个流行的 Git 钩子管理工具，支持在代码提交前自动执行格式化、静态检查、自动修复等操作，提升代码质量，避免低级错误进入仓库。 主要功能 统一管理多种代码检查/格式化工具（如 black、flake8、isort、eslint、stylelint 等） 支持多语言、多平台 配置简单，易于团队协作 可..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-12-31T14:57:57.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-31T14:57:57.000Z"}]]},"git":{"createdTime":1767193077000,"updatedTime":1767193077000,"contributors":[{"name":"king-sj","username":"king-sj","email":"2175616761@qq.com","commits":1,"url":"https://github.com/king-sj"}]},"readingTime":{"minutes":1.15,"words":345},"filePathRelative":"tech/pre-commit.md","excerpt":"\\n<p>pre-commit 是一个流行的 Git 钩子管理工具，支持在代码提交前自动执行格式化、静态检查、自动修复等操作，提升代码质量，避免低级错误进入仓库。</p>\\n<h2>主要功能</h2>\\n<ul>\\n<li>统一管理多种代码检查/格式化工具（如 black、flake8、isort、eslint、stylelint 等）</li>\\n<li>支持多语言、多平台</li>\\n<li>配置简单，易于团队协作</li>\\n<li>可自定义钩子脚本</li>\\n</ul>\\n<h2>安装与使用</h2>\\n<h3>1. 安装 pre-commit</h3>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-sh\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">pip</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pre-commit</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{p as comp,k as data};
